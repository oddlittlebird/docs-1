<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Access data instantly across the globe in your Apps & APIs for exceptional performance and scale. <br> One interface, multiple data models!"><link href=https://macrometa.com/c8ql/graphs/traversals/ rel=canonical><meta name=author content=Durga><link rel="shortcut icon" href=../../../assets/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.4.0"><title>Graph Traversals - Macrometa Docs</title><link rel=stylesheet href=../../../assets/stylesheets/main.7efdba89.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.5447f842.min.css><meta name=theme-color content=#3f51b5><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","None","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#graph-traversals class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://macrometa.com title="Macrometa Docs" class="md-header-nav__button md-logo" aria-label="Macrometa Docs"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Macrometa Docs </span> <span class="md-header-nav__topic md-ellipsis"> Graph Traversals </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class="md-tabs__link md-tabs__link--active"> Home </a> </li> <li class=md-tabs__item> <a href=../../../quickstart/ class=md-tabs__link> Essentials </a> </li> <li class=md-tabs__item> <a href=../../../keyvalue/quickstart/ class=md-tabs__link> Collections </a> </li> <li class=md-tabs__item> <a href=../../../search/quickstart/ class=md-tabs__link> Search </a> </li> <li class=md-tabs__item> <a href=../../../restql/concepts/ class=md-tabs__link> Query Workers </a> </li> <li class=md-tabs__item> <a href=../../../streams/quickstart/ class=md-tabs__link> Streams </a> </li> <li class=md-tabs__item> <a href=../../../cep/quickstart/ class=md-tabs__link> Stream Workers </a> </li> <li class=md-tabs__item> <a href=../../introduction/ class=md-tabs__link> C8 Query Language </a> </li> <li class=md-tabs__item> <a href=../../../repls_js/ class=md-tabs__link> Demos </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://macrometa.com title="Macrometa Docs" class="md-nav__button md-logo" aria-label="Macrometa Docs"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> Macrometa Docs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Essentials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Essentials data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Essentials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../quickstart/ title=Quickstart class=md-nav__link> Quickstart </a> </li> <li class=md-nav__item> <a href=../../../essentials/ title=Essentials class=md-nav__link> Essentials </a> </li> <li class=md-nav__item> <a href=../../../authentication/ title=Authentication class=md-nav__link> Authentication </a> </li> <li class=md-nav__item> <a href=../../../apikeys/ title=Drivers class=md-nav__link> Drivers </a> </li> <li class=md-nav__item> <a href=../../../credits/ title=Credits class=md-nav__link> Credits </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Collections <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Collections data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Collections </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1> <label class=md-nav__link for=nav-3-1> Key Value <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Key Value" data-md-level=2> <label class=md-nav__title for=nav-3-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Key Value </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../keyvalue/quickstart/ title="Quick Start" class=md-nav__link> Quick Start </a> </li> <li class=md-nav__item> <a href=../../../keyvalue/tutorials/using-rest-api/ title="Using Rest API" class=md-nav__link> Using Rest API </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1-3 type=checkbox id=nav-3-1-3> <label class=md-nav__link for=nav-3-1-3> Tutorials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=3> <label class=md-nav__title for=nav-3-1-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../keyvalue/tutorials/todo-app-cfworkers/ title="ToDo App (CloudFlare)" class=md-nav__link> ToDo App (CloudFlare) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2> <label class=md-nav__link for=nav-3-2> Documents <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Documents data-md-level=2> <label class=md-nav__title for=nav-3-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Documents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../documents/quickstart/ title="Quick Start" class=md-nav__link> Quick Start </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-2 type=checkbox id=nav-3-2-2> <label class=md-nav__link for=nav-3-2-2> Tutorials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=3> <label class=md-nav__title for=nav-3-2-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../documents/tutorials/using_rest_api/ title="Using Rest API" class=md-nav__link> Using Rest API </a> </li> <li class=md-nav__item> <a href=../../../documents/tutorials/working-with-documents/ title="Working with Documents" class=md-nav__link> Working with Documents </a> </li> <li class=md-nav__item> <a href=../../../documents/tutorials/using-realtime-updates/ title="Realtime Updates" class=md-nav__link> Realtime Updates </a> </li> <li class=md-nav__item> <a href=../../../documents/tutorials/using-spotcollections/ title="Spot Collections" class=md-nav__link> Spot Collections </a> </li> <li class=md-nav__item> <a href=../../../documents/tutorials/maps_sets_sortedsets/ title="Maps, Sets, SortedSets" class=md-nav__link> Maps, Sets, SortedSets </a> </li> <li class=md-nav__item> <a href=../../c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../examples/ title="C8QL Examples" class=md-nav__link> C8QL Examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-3 type=checkbox id=nav-3-2-3> <label class=md-nav__link for=nav-3-2-3> Indexing <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Indexing data-md-level=3> <label class=md-nav__title for=nav-3-2-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Indexing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../documents/indexing/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../documents/indexing/index-basics/ title="Index Basics" class=md-nav__link> Index Basics </a> </li> <li class=md-nav__item> <a href=../../../documents/indexing/working-with-indexes/ title="Working with Indexes" class=md-nav__link> Working with Indexes </a> </li> <li class=md-nav__item> <a href=../../../documents/indexing/index-utilization/ title="Index Utilization" class=md-nav__link> Index Utilization </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-4 type=checkbox id=nav-3-2-4> <label class=md-nav__link for=nav-3-2-4> GeoSpatial <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=GeoSpatial data-md-level=3> <label class=md-nav__title for=nav-3-2-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> GeoSpatial </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../geospatial/concepts/ title=Concepts class=md-nav__link> Concepts </a> </li> <li class=md-nav__item> <a href=../../../geospatial/tutorial/ title=Tutorial class=md-nav__link> Tutorial </a> </li> <li class=md-nav__item> <a href=../../../documents/indexing/working-with-indexes#geo-spatial-indexes title=Indexes class=md-nav__link> Indexes </a> </li> <li class=md-nav__item> <a href=../../c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../examples/ title="C8QL Examples" class=md-nav__link> C8QL Examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-5 type=checkbox id=nav-3-2-5> <label class=md-nav__link for=nav-3-2-5> Transactions <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Transactions data-md-level=3> <label class=md-nav__title for=nav-3-2-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Transactions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../documents/transactions/overview.md title=Overivew class=md-nav__link> Overivew </a> </li> <li class=md-nav__item> <a href=../../../documents/transactions/transaction-invocation.md title="Transaction Invocation" class=md-nav__link> Transaction Invocation </a> </li> <li class=md-nav__item> <a href=../../../documents/transactions/passing-parameters.md title="Passing Parameters" class=md-nav__link> Passing Parameters </a> </li> <li class=md-nav__item> <a href=../../../documents/transactions/locking-isolation.md title="Locking and Isolation" class=md-nav__link> Locking and Isolation </a> </li> <li class=md-nav__item> <a href=../../../documents/transactions/durability.md title=Durability class=md-nav__link> Durability </a> </li> <li class=md-nav__item> <a href=../../../documents/transactions/limitations.md title=Limitations class=md-nav__link> Limitations </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-3 type=checkbox id=nav-3-3> <label class=md-nav__link for=nav-3-3> DynamoMode <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=DynamoMode data-md-level=2> <label class=md-nav__title for=nav-3-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> DynamoMode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dynamo/using-aws-cli/ title="Using AWS Console CLI" class=md-nav__link> Using AWS Console CLI </a> </li> <li class=md-nav__item> <a href=../../../dynamo/using-aws-js-browser/ title="AWS Javascript SDK (browser)" class=md-nav__link> AWS Javascript SDK (browser) </a> </li> <li class=md-nav__item> <a href=../../../dynamo/using-aws-js-nodejs/ title="AWS Javascript SDK (nodejs)" class=md-nav__link> AWS Javascript SDK (nodejs) </a> </li> <li class=md-nav__item> <a href=../../../dynamo/using-aws-boto3/ title="AWS Python SDK" class=md-nav__link> AWS Python SDK </a> </li> <li class=md-nav__item> <a href=../../../dynamo/using-mmdynamo-browser/ title="mmdynamo Javascript SDK (browser)" class=md-nav__link> mmdynamo Javascript SDK (browser) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4 type=checkbox id=nav-3-4> <label class=md-nav__link for=nav-3-4> Graphs <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Graphs data-md-level=2> <label class=md-nav__title for=nav-3-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Graphs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../graphs/quickstart/ title="Quick Start" class=md-nav__link> Quick Start </a> </li> <li class=md-nav__item> <a href=../../../graphs/concepts/ title=Concepts class=md-nav__link> Concepts </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4-3 type=checkbox id=nav-3-4-3> <label class=md-nav__link for=nav-3-4-3> Tutorials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=3> <label class=md-nav__title for=nav-3-4-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../graphs/tutorials/using_rest_api/ title="Using Rest API" class=md-nav__link> Using Rest API </a> </li> <li class=md-nav__item> <a href=../../../graphs/tutorials/graph-queries/ title="Graph Queries" class=md-nav__link> Graph Queries </a> </li> <li class=md-nav__item> <a href=../../c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../examples/ title="C8QL Examples" class=md-nav__link> C8QL Examples </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Search <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Search data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Search </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../search/quickstart/ title="Quick Start" class=md-nav__link> Quick Start </a> </li> <li class=md-nav__item> <a href=../../../search/concepts/ title=Concepts class=md-nav__link> Concepts </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-3 type=checkbox id=nav-4-3> <label class=md-nav__link for=nav-4-3> Tutorials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=2> <label class=md-nav__title for=nav-4-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../search/tutorials/using_rest_api.md title="Using Rest API" class=md-nav__link> Using Rest API </a> </li> <li class=md-nav__item> <a href=../../c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../examples/ title="C8QL Examples" class=md-nav__link> C8QL Examples </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Query Workers <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Query Workers" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Query Workers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../restql/concepts/ title=Concepts class=md-nav__link> Concepts </a> </li> <li class=md-nav__item> <a href=../../../restql/tutorial/ title="RestQL Tutorial" class=md-nav__link> RestQL Tutorial </a> </li> <li class=md-nav__item> <a href=../../c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../examples/ title="C8QL Examples" class=md-nav__link> C8QL Examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Streams <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Streams data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Streams </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../streams/quickstart/ title="Quick Start" class=md-nav__link> Quick Start </a> </li> <li class=md-nav__item> <a href=../../../streams/concepts/ title=Concepts class=md-nav__link> Concepts </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-3 type=checkbox id=nav-6-3> <label class=md-nav__link for=nav-6-3> Tutorials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=2> <label class=md-nav__title for=nav-6-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../streams/tutorials/using_rest_api/ title="Using Rest API" class=md-nav__link> Using Rest API </a> </li> <li class=md-nav__item> <a href=../../../streams/tutorials/pub-sub-streams/ title="Pub-Sub with Streams" class=md-nav__link> Pub-Sub with Streams </a> </li> <li class=md-nav__item> <a href=../../../streams/tutorials/using-realtime-updates/ title="Realtime Updates" class=md-nav__link> Realtime Updates </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> Stream Workers <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Stream Workers" data-md-level=1> <label class=md-nav__title for=nav-7> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Stream Workers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cep/quickstart/ title="Quick Start" class=md-nav__link> Quick Start </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7-2 type=checkbox id=nav-7-2> <label class=md-nav__link for=nav-7-2> Tutorials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=2> <label class=md-nav__title for=nav-7-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cep/tutorials/using_rest_api/ title="Using Rest API" class=md-nav__link> Using Rest API </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/create-stream-app/ title="Create Stream App" class=md-nav__link> Create Stream App </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/consuming-data/ title="Consuming Data" class=md-nav__link> Consuming Data </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/transforming-data/ title="Transforming Data" class=md-nav__link> Transforming Data </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/enriching-data/ title="Enriching Data" class=md-nav__link> Enriching Data </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/filtering-data/ title="Filtering Data" class=md-nav__link> Filtering Data </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/summarizing-data/ title="Summarizing Data" class=md-nav__link> Summarizing Data </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/correlating-data/ title="Correlating Data" class=md-nav__link> Correlating Data </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/publishing-data/ title="Publishing Data" class=md-nav__link> Publishing Data </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/triggering-data.md title="Triggering Flows" class=md-nav__link> Triggering Flows </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/executing-scripts/ title="Executing Scripts" class=md-nav__link> Executing Scripts </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7-3 type=checkbox id=nav-7-3> <label class=md-nav__link for=nav-7-3> Reference <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Reference data-md-level=2> <label class=md-nav__title for=nav-7-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cep/reference/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/basics/ title=Basics class=md-nav__link> Basics </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/values-n-types/ title="Values & Types" class=md-nav__link> Values & Types </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/data-cleansing/ title="Data Cleansing" class=md-nav__link> Data Cleansing </a> </li> <li class=md-nav__item> <a href=../../../cep/tutorials/enriching-data/ title="Enriching Data" class=md-nav__link> Enriching Data </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/data-transformation/ title="Data Transformations" class=md-nav__link> Data Transformations </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/data-summarization/ title="Data Summarizations" class=md-nav__link> Data Summarizations </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/patterns-n-trends/ title="Patterns & Trends" class=md-nav__link> Patterns & Trends </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/data-pipelining/ title="Data Pipelines" class=md-nav__link> Data Pipelines </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/error-handling/ title="Error Handling" class=md-nav__link> Error Handling </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/query-guide/ title="Query Guide" class=md-nav__link> Query Guide </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/functions/ title=Functions class=md-nav__link> Functions </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7-3-13 type=checkbox id=nav-7-3-13> <label class=md-nav__link for=nav-7-3-13> Extensions <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Extensions data-md-level=3> <label class=md-nav__title for=nav-7-3-13> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Extensions </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7-3-13-1 type=checkbox id=nav-7-3-13-1> <label class=md-nav__link for=nav-7-3-13-1> Execution <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Execution data-md-level=4> <label class=md-nav__title for=nav-7-3-13-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Execution </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cep/reference/extensions/execution/context/ title=Context class=md-nav__link> Context </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/execution/map/ title=Map class=md-nav__link> Map </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/execution/json/ title=Json class=md-nav__link> Json </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/execution/list/ title=List class=md-nav__link> List </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/execution/math/ title=Math class=md-nav__link> Math </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/execution/regex/ title=Regex class=md-nav__link> Regex </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/execution/reorder/ title=Reorder class=md-nav__link> Reorder </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/execution/time/ title=Time class=md-nav__link> Time </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/execution/unique/ title=Unique class=md-nav__link> Unique </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/execution/streamingml/ title="Streaming ML" class=md-nav__link> Streaming ML </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7-3-13-2 type=checkbox id=nav-7-3-13-2> <label class=md-nav__link for=nav-7-3-13-2> Connectors <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Connectors data-md-level=4> <label class=md-nav__title for=nav-7-3-13-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Connectors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cep/reference/extensions/io/http/ title=HTTP class=md-nav__link> HTTP </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/io/gcp-pubsub/ title="Google Pub-Sub" class=md-nav__link> Google Pub-Sub </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/io/s3/ title="AWS S3" class=md-nav__link> AWS S3 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7-3-13-3 type=checkbox id=nav-7-3-13-3> <label class=md-nav__link for=nav-7-3-13-3> Format Mappers <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Format Mappers" data-md-level=4> <label class=md-nav__title for=nav-7-3-13-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Format Mappers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cep/reference/extensions/mappers/json/ title=Json class=md-nav__link> Json </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/mappers/csv/ title=CSV class=md-nav__link> CSV </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/mappers/keyvalue/ title=Key-Value class=md-nav__link> Key-Value </a> </li> <li class=md-nav__item> <a href=../../../cep/reference/extensions/mappers/text/ title=Text class=md-nav__link> Text </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> C8 Query Language <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="C8 Query Language" data-md-level=1> <label class=md-nav__title for=nav-8> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> C8 Query Language </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../introduction/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../examples/ title="Additional Examples" class=md-nav__link> Additional Examples </a> </li> <li class=md-nav__item> <a href=../../coming-from-sql/ title="Coming from SQL" class=md-nav__link> Coming from SQL </a> </li> <li class=md-nav__item> <a href=../../fundamentals/ title=Fundamentals class=md-nav__link> Fundamentals </a> </li> <li class=md-nav__item> <a href=../../operators/ title=Operators class=md-nav__link> Operators </a> </li> <li class=md-nav__item> <a href=../../data-queries/ title="Data Queries" class=md-nav__link> Data Queries </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-8-8 type=checkbox id=nav-8-8> <label class=md-nav__link for=nav-8-8> Operations <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Operations data-md-level=2> <label class=md-nav__title for=nav-8-8> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Operations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../operations/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../operations/for/ title=FOR class=md-nav__link> FOR </a> </li> <li class=md-nav__item> <a href=../../operations/return/ title=RETURN class=md-nav__link> RETURN </a> </li> <li class=md-nav__item> <a href=../../operations/filter/ title=FILTER class=md-nav__link> FILTER </a> </li> <li class=md-nav__item> <a href=../../operations/search/ title=SEARCH class=md-nav__link> SEARCH </a> </li> <li class=md-nav__item> <a href=../../operations/sort/ title=SORT class=md-nav__link> SORT </a> </li> <li class=md-nav__item> <a href=../../operations/limit/ title=LIMIT class=md-nav__link> LIMIT </a> </li> <li class=md-nav__item> <a href=../../operations/let/ title=LET class=md-nav__link> LET </a> </li> <li class=md-nav__item> <a href=../../operations/collect/ title=COLLECT class=md-nav__link> COLLECT </a> </li> <li class=md-nav__item> <a href=../../operations/remove/ title=REMOVE class=md-nav__link> REMOVE </a> </li> <li class=md-nav__item> <a href=../../operations/update/ title=UPDATE class=md-nav__link> UPDATE </a> </li> <li class=md-nav__item> <a href=../../operations/replace/ title=REPLACE class=md-nav__link> REPLACE </a> </li> <li class=md-nav__item> <a href=../../operations/insert/ title=INSERT class=md-nav__link> INSERT </a> </li> <li class=md-nav__item> <a href=../../operations/upsert/ title=UPSERT class=md-nav__link> UPSERT </a> </li> <li class=md-nav__item> <a href=../../operations/with/ title=WITH class=md-nav__link> WITH </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-8-9 type=checkbox id=nav-8-9> <label class=md-nav__link for=nav-8-9> Functions <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Functions data-md-level=2> <label class=md-nav__title for=nav-8-9> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../functions/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../functions/string/ title=String class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href=../../functions/numeric/ title=Numeric class=md-nav__link> Numeric </a> </li> <li class=md-nav__item> <a href=../../functions/date/ title=Date class=md-nav__link> Date </a> </li> <li class=md-nav__item> <a href=../../functions/array/ title=Array class=md-nav__link> Array </a> </li> <li class=md-nav__item> <a href=../../functions/document/ title=Document class=md-nav__link> Document </a> </li> <li class=md-nav__item> <a href=../../functions/geo/ title=Geo class=md-nav__link> Geo </a> </li> <li class=md-nav__item> <a href=../../functions/fulltext/ title=Fulltext class=md-nav__link> Fulltext </a> </li> <li class=md-nav__item> <a href=../../functions/search/ title=Search class=md-nav__link> Search </a> </li> <li class=md-nav__item> <a href=../../functions/miscellaneous/ title=Miscellaneous class=md-nav__link> Miscellaneous </a> </li> <li class=md-nav__item> <a href=../../functions/type-cast/ title="Type Check & Cast" class=md-nav__link> Type Check & Cast </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../array-operators/ title="Array Operators" class=md-nav__link> Array Operators </a> </li> <li class=md-nav__item> <a href=../../common-errors/ title="Common Errors" class=md-nav__link> Common Errors </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> Demos <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Demos data-md-level=1> <label class=md-nav__title for=nav-9> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Demos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../repls_js/ title="Interactive Command Line" class=md-nav__link> Interactive Command Line </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9-2 type=checkbox id=nav-9-2> <label class=md-nav__link for=nav-9-2> Example Applications <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Example Applications" data-md-level=2> <label class=md-nav__title for=nav-9-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Example Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../demos/address-book/ title="Address Book" class=md-nav__link> Address Book </a> </li> <li class=md-nav__item> <a href=../../../demos/credit-card-fraud/ title="Credit Card Fraud" class=md-nav__link> Credit Card Fraud </a> </li> <li class=md-nav__item> <a href=../../../demos/castle-knight/ title="Castle Knight Game" class=md-nav__link> Castle Knight Game </a> </li> <li class=md-nav__item> <a href=../../../demos/dynamo/ title="Dynamo Mode" class=md-nav__link> Dynamo Mode </a> </li> <li class=md-nav__item> <a href=../../../demos/crypto-trading/ title="Crypto Trading" class=md-nav__link> Crypto Trading </a> </li> <li class=md-nav__item> <a href=../../../demos/jamstack-gatsby/ title="Jamstack (Gatsby)" class=md-nav__link> Jamstack (Gatsby) </a> </li> <li class=md-nav__item> <a href=../../../demos/c8ql-examples/ title="C8QL Examples" class=md-nav__link> C8QL Examples </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#general-query-idea class=md-nav__link> General query idea </a> </li> <li class=md-nav__item> <a href=#example-execution class=md-nav__link> Example execution </a> </li> <li class=md-nav__item> <a href=#syntax class=md-nav__link> Syntax </a> </li> <li class=md-nav__item> <a href=#working-with-named-graphs class=md-nav__link> Working with named graphs </a> </li> <li class=md-nav__item> <a href=#working-with-collection-sets class=md-nav__link> Working with collection sets </a> </li> <li class=md-nav__item> <a href=#traversing-in-mixed-directions class=md-nav__link> Traversing in mixed directions </a> </li> <li class=md-nav__item> <a href=#using-filters-and-the-explainer-to-extrapolate-the-costs class=md-nav__link> Using filters and the explainer to extrapolate the costs </a> </li> <li class=md-nav__item> <a href=#filtering-on-paths class=md-nav__link> Filtering on paths </a> <nav class=md-nav aria-label="Filtering on paths"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pruning class=md-nav__link> Pruning </a> </li> <li class=md-nav__item> <a href=#filtering-on-paths_1 class=md-nav__link> Filtering on paths </a> <nav class=md-nav aria-label="Filtering on paths"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#filtering-edges-on-the-path class=md-nav__link> Filtering edges on the path </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#filtering-vertices-on-the-path class=md-nav__link> Filtering vertices on the path </a> <nav class=md-nav aria-label="Filtering vertices on the path"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#combining-several-filters class=md-nav__link> Combining several filters </a> </li> <li class=md-nav__item> <a href=#filter-on-the-entire-path class=md-nav__link> Filter on the entire path </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#filtering-on-the-path-vs-filtering-on-vertices-or-edges class=md-nav__link> Filtering on the path vs. Filtering on Vertices or Edges </a> </li> <li class=md-nav__item> <a href=#examples class=md-nav__link> Examples </a> </li> <li class=md-nav__item> <a href=#filter-examples class=md-nav__link> Filter examples </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#comparing-outbound-inbound-any class=md-nav__link> Comparing OUTBOUND / INBOUND / ANY </a> </li> <li class=md-nav__item> <a href=#query-explainer-for-optimizations class=md-nav__link> Query explainer for optimizations </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=graph-traversals>Graph Traversals<a class=headerlink href=#graph-traversals title="Permanent link">&para;</a></h1> <h2 id=general-query-idea>General query idea<a class=headerlink href=#general-query-idea title="Permanent link">&para;</a></h2> <p>A traversal starts at one specific document (<code>startVertex</code>) and follows all edges connected to this document. For all documents (<code>vertices</code>) that are targeted by these edges it will again follow all edges connected to them and so on. It is possible to define how many of these follow iterations should be executed at least (<code>min</code> depth) and at most (<code>max</code> depth).</p> <p>For all vertices that were visited during this process in the range between <code>min</code> depth and <code>max</code> depth iterations you will get a result in form of a set with three items:</p> <ol> <li>The visited vertex.</li> <li>The edge pointing to it.</li> <li>The complete path from startVertex to the visited vertex as object with an attribute <code>edges</code> and an attribute <code>vertices</code>, each a list of the coresponding elements. These lists are sorted, which means the first element in <code>vertices</code> is the <code>startVertex</code> and the last is the visited vertex, and the n-th element in <code>edges</code> connects the n-th element with the (n+1)-th element in <code>vertices</code>.</li> </ol> <h2 id=example-execution>Example execution<a class=headerlink href=#example-execution title="Permanent link">&para;</a></h2> <p>Let's take a look at a simple example to explain how it works.</p> <p>This is the graph that we are going to traverse:</p> <p><img alt=traversal_graph src=../../images/traversal_graph.png></p> <p>We use the following parameters for our query:</p> <ol> <li>We start at the vertex <strong>A</strong>.</li> <li>We use a <code>min</code> depth of 1.</li> <li>We use a <code>max</code> depth of 2.</li> <li>We follow only in <code>OUTBOUND</code> direction of edges</li> </ol> <p><img alt=traversal_graph1 src=../../images/traversal_graph1.png></p> <p>Now it walks to one of the direct neighbors of <strong>A</strong>, say <strong>B</strong> (note: ordering is not guaranteed!):</p> <p><img alt=traversal_graph2 src=../../images/traversal_graph2.png></p> <p>The query will remember the state (red circle) and will emit the first result <strong>A</strong>  <strong>B</strong> (black box). This will also prevent the traverser to be trapped in cycles. Now again it will visit one of the direct neighbors of <strong>B</strong>, say <strong>E</strong>:</p> <p><img alt=traversal_graph3 src=../../images/traversal_graph3.png></p> <p>We have limited the query with a <code>max</code> depth of <em>2</em>, so it will not pick any neighbor of <strong>E</strong>, as the path from <strong>A</strong> to <strong>E</strong> already requires <em>2</em> steps. Instead, we will go back one level to <strong>B</strong> and continue with any other direct neighbor there:</p> <p><img alt=traversal_graph4 src=../../images/traversal_graph4.png></p> <p>Again after we produced this result we will step back to <strong>B</strong>. But there is no neighbor of <strong>B</strong> left that we have not yet visited. Hence we go another step back to <strong>A</strong> and continue with any other neighbor there.</p> <p><img alt=traversal_graph5 src=../../images/traversal_graph5.png></p> <p>And identical to the iterations before we will visit <strong>H</strong>:</p> <p><img alt=traversal_graph6 src=../../images/traversal_graph6.png></p> <p>And <strong>J</strong>:</p> <p><img alt=traversal_graph7 src=../../images/traversal_graph7.png></p> <p>After these steps there is no further result left. So all together this query has returned the following paths:</p> <ol> <li><strong>A</strong>  <strong>B</strong></li> <li><strong>A</strong>  <strong>B</strong>  <strong>E</strong></li> <li><strong>A</strong>  <strong>B</strong>  <strong>C</strong></li> <li><strong>A</strong>  <strong>G</strong></li> <li><strong>A</strong>  <strong>G</strong>  <strong>H</strong></li> <li><strong>A</strong>  <strong>G</strong>  <strong>J</strong></li> </ol> <h2 id=syntax>Syntax<a class=headerlink href=#syntax title="Permanent link">&para;</a></h2> <p>There are two slightly different syntaxes for traversals in C8QL, one for</p> <ul> <li>named graphs and another to</li> <li>specify a <a href=#working-with-collection-sets>set of edge collections</a></li> </ul> <h2 id=working-with-named-graphs>Working with named graphs<a class=headerlink href=#working-with-named-graphs title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=p>[</span><span class=nx>WITH</span> <span class=nx>collection1</span><span class=p>[,</span> <span class=nx>collection2</span><span class=p>[,</span> <span class=p>...</span><span class=nx>collectionN</span><span class=p>]]]</span>
<span class=nx>FOR</span> <span class=nx>vertex</span><span class=p>[,</span> <span class=nx>edge</span><span class=p>[,</span> <span class=nx>path</span><span class=p>]]</span>
  <span class=nx>IN</span> <span class=p>[</span><span class=nx>min</span><span class=p>[..</span><span class=nx>max</span><span class=p>]]</span>
  <span class=nx>OUTBOUND</span><span class=o>|</span><span class=nx>INBOUND</span><span class=o>|</span><span class=nx>ANY</span> <span class=nx>startVertex</span>
  <span class=nx>GRAPH</span> <span class=nx>graphName</span>
  <span class=p>[</span><span class=nx>OPTIONS</span> <span class=nx>options</span><span class=p>]</span>
</code></pre></div> <p><code>WITH</code>:</p> <ul> <li><strong>collections</strong> (collection, <code>repeatable</code>): list of collections that will be involved in the traversal</li> </ul> <p><code>FOR</code>: emits up to three variables:</p> <ul> <li><strong>vertex</strong> (object): the current vertex in a traversal</li> <li><strong>edge</strong> (object, <code>optional</code>): the current edge in a traversal</li> <li><strong>path</strong> (object, <code>optional</code>): representation of the current path with two members:</li> <li><code>vertices</code>: an array of all vertices on this path</li> <li><code>edges</code>: an array of all edges on this path</li> </ul> <p><code>IN</code> <code>min..max</code>: the minimal and maximal depth for the traversal:</p> <ul> <li><strong>min</strong> (number, <code>optional</code>): edges and vertices returned by this query will start at the traversal depth of <em>min</em> (thus edges and vertices below will not be returned). If not specified, it defaults to 1. The minimal possible value is 0.</li> <li><strong>max</strong> (number, <code>optional</code>): up to <em>max</em> length paths are traversed. If omitted, <em>max</em> defaults to <em>min</em>. Thus only the vertices and edges in the range of <em>min</em> are returned. <em>max</em> can not be specified without <em>min</em>.</li> </ul> <p><code>OUTBOUND|INBOUND|ANY</code>: follow outgoing, incoming, or edges pointing in either direction in the traversal; Please note that this can't be replaced by a bind parameter.</p> <ul> <li><strong>startVertex</strong> (string|object): a vertex where the traversal will originate from. This can be specified in the form of an ID string or in the form of a document with the attribute <code>_id</code>. All other values will lead to a warning and an empty result. If the specified document does not exist, the result is empty as well and there is no warning.</li> </ul> <p><code>GRAPH</code> <strong>graphName</strong> (string): the name identifying the named graph. Its vertex and edge collections will be looked up. Note that the graph name is like a regular string, hence it must be enclosed by quote marks.</p> <p><code>PRUNE</code> <strong>condition</strong>: A condition, like in a FILTER statement, which will be evaluated in every step of the traversal, as early as possible. The semantics of this condition is as follows:</p> <ul> <li>If the condition evaluates to <code>true</code> this path will be considered as a result, it might still be post filtered or ignored due to depth constraints. However the search will not continue from this path, namely there will be no result having this path as a prefix. e.g.: Take the path: <code>(A) -&gt; (B) -&gt; (C)</code> starting at <code>A</code> and PRUNE on <code>B</code> will result in <code>(A)</code> and <code>(A) -&gt; (B)</code> being valid paths, and <code>(A) -&gt; (B) -&gt; (C)</code> not returned, it got pruned on B.</li> <li>If the condition evaluates to <code>false</code> we will continue our search beyond this path.</li> </ul> <p>There is only one <code>PRUNE</code> condition possible, but it can contain an arbitrary amount of <code>AND</code> or <code>OR</code> statements. Also note that you can use the output variables of this traversal in the <code>PRUNE</code>, as well as all variables defined before this Traversal statement.</p> <p><code>OPTIONS</code> <strong>options</strong> (object, <code>optional</code>): used to modify the execution of the traversal. Only the following attributes have an effect, all others are ignored:</p> <ul> <li><strong>uniqueVertices</strong> (string): optionally ensure vertex uniqueness</li> <li>"path"  it is guaranteed that there is no path returned with a duplicate vertex</li> <li>"global"  it is guaranteed that each vertex is visited at most once during the traversal, no matter how many paths lead from the start vertex to this one. If you start with a <code>min depth &gt; 1</code> a vertex that was found before <em>min</em> depth might not be returned at all (it still might be part of a path). <strong>Note:</strong> Using this configuration the result is not deterministic any more. If there are multiple paths from <em>startVertex</em> to <em>vertex</em>, one of those is picked.</li> <li> <p>"none" (default)  no uniqueness check is applied on vertices</p> </li> <li> <p><strong>uniqueEdges</strong> (string): optionally ensure edge uniqueness</p> </li> <li>"path" (default)  it is guaranteed that there is no path returned with a duplicate edge</li> <li>"global"  it is guaranteed that each edge is visited at most once during the traversal, no matter how many paths lead from the start vertex to this edge. If you start with a <code>min depth &gt; 1</code>, an edge that was found before <em>min</em> depth might not be returned at all (it still might be part of a path). <strong>Note:</strong> Using this configuration the result is not deterministic any more. If there are multiple paths from <em>startVertex</em> over <em>edge</em> one of those is picked.</li> <li> <p>"none"  no uniqueness check is applied on edges. <strong>Note:</strong> Using this configuration the traversal will follow cycles in edges.</p> </li> <li> <p><strong>bfs</strong> (bool): optionally use the alternative breadth-first traversal algorithm</p> </li> <li>true  the traversal will be executed breadth-first. The results will first contain all vertices at depth 1. Than all vertices at depth 2 and so on.</li> <li>false (default)  the traversal will be executed depth-first. It will first return all paths from <em>min</em> depth to <em>max</em> depth for one vertex at depth 1. Than for the next vertex at depth 1 and so on.</li> </ul> <h2 id=working-with-collection-sets>Working with collection sets<a class=headerlink href=#working-with-collection-sets title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=p>[</span><span class=nx>WITH</span> <span class=nx>collection1</span><span class=p>[,</span> <span class=nx>collection2</span><span class=p>[,</span> <span class=p>...</span><span class=nx>collectionN</span><span class=p>]]]</span>
<span class=nx>FOR</span> <span class=nx>vertex</span><span class=p>[,</span> <span class=nx>edge</span><span class=p>[,</span> <span class=nx>path</span><span class=p>]]</span>
  <span class=nx>IN</span> <span class=p>[</span><span class=nx>min</span><span class=p>[..</span><span class=nx>max</span><span class=p>]]</span>
  <span class=nx>OUTBOUND</span><span class=o>|</span><span class=nx>INBOUND</span><span class=o>|</span><span class=nx>ANY</span> <span class=nx>startVertex</span>
  <span class=nx>edgeCollection1</span><span class=p>,</span> <span class=p>...,</span> <span class=nx>edgeCollectionN</span>
  <span class=p>[</span><span class=nx>OPTIONS</span> <span class=nx>options</span><span class=p>]</span>
</code></pre></div> <p>Instead of <code>GRAPH graphName</code> you may specify a list of edge collections. Vertex collections are determined by the edges in the edge collections. The traversal options are the same as with the <a href=#working-with-named-graphs>named graph variant</a>.</p> <p>If the same edge collection is specified multiple times, it will behave as if it were specified only once. Specifying the same edge collection is only allowed when the collections do not have conflicting traversal directions. </p> <h2 id=traversing-in-mixed-directions>Traversing in mixed directions<a class=headerlink href=#traversing-in-mixed-directions title="Permanent link">&para;</a></h2> <p>For traversals with a list of edge collections you can optionally specify the direction for some of the edge collections. Say for example you have three edge collections <code>edges1</code>, <code>edges2</code> and <code>edges3</code>, where in <code>edges2</code> the direction has no relevance but in <code>edges1</code> and <code>edges3</code> the direction should be taken into account. In this case you can use <code>OUTBOUND</code> as general traversal direction and <code>ANY</code> specifically for <code>edges2</code> as follows:</p> <div class=highlight><pre><span></span><code><span class=nx>FOR</span> <span class=nx>vertex</span> <span class=nx>IN</span> <span class=nx>OUTBOUND</span>
  <span class=nx>startVertex</span>
  <span class=nx>edges1</span><span class=p>,</span> <span class=nx>ANY</span> <span class=nx>edges2</span><span class=p>,</span> <span class=nx>edges3</span>
</code></pre></div> <p>All collections in the list that do not specify their own direction will use the direction defined after <code>IN</code>. This allows to use a different direction for each collection in your traversal.</p> <h2 id=using-filters-and-the-explainer-to-extrapolate-the-costs>Using filters and the explainer to extrapolate the costs<a class=headerlink href=#using-filters-and-the-explainer-to-extrapolate-the-costs title="Permanent link">&para;</a></h2> <p>All three variables emitted by the traversals might as well be used in filter statements. For some of these filter statements the optimizer can detect that it is possible to prune paths of traversals earlier, hence filtered results will not be emitted to the variables in the first place. This may significantly improve the performance of your query. Whenever a filter is not fulfilled, the complete set of <em>vertex</em>, <em>edge</em> and <em>path</em> will be skipped. All paths with a length greater than <em>max</em> will never be computed.</p> <p>In the current state, <code>AND</code> combined filters can be optimized, but <code>OR</code> combined filters cannot.</p> <h2 id=filtering-on-paths>Filtering on paths<a class=headerlink href=#filtering-on-paths title="Permanent link">&para;</a></h2> <p>Filtering on paths allows for the most powerful filtering and may have the highest impact on performance. Using the path variable you can filter on specific iteration depths. You can filter for absolute positions in the path by specifying a positive number (which then qualifies for the optimizations), or relative positions to the end of the path by specifying a negative number.</p> <p>The following examples are based on the <a href=../../graphs#the-traversal-graph>traversal graph</a>.</p> <h3 id=pruning>Pruning<a class=headerlink href=#pruning title="Permanent link">&para;</a></h3> <p>Pruning is the easiest variant to formulate conditions to reduce the amount of data to be checked during a search. So it allows to improve query performance and reduces the amount of overhead generated by the query. Pruning can be executed on the vertex, the edge and the path and any variable defined before.</p> <p>Examples:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..5</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>PRUNE</span> <span class=nx>e</span><span class=p>.</span><span class=nx>theTruth</span> <span class=o>==</span> <span class=kc>true</span>
        <span class=nx>RETURN</span> <span class=p>{</span> <span class=nx>vertices</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>_key</span><span class=p>,</span> <span class=nx>edges</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>label</span> <span class=p>}</span>
</code></pre></div> <p>This will search until it sees an edge having <code>theTruth == true</code>. The path with this edge will be returned, the search will not continue after this edge.</p> <p>Namely all responses either have no edge with <code>theTruth == true</code> or the last edge on the path has <code>theTruth == true</code>.</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..5</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>PRUNE</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span> <span class=o>==</span> <span class=s1>&#39;G&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span> <span class=o>==</span> <span class=s1>&#39;G&#39;</span>
        <span class=nx>RETURN</span> <span class=p>{</span> <span class=nx>vertices</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>_key</span><span class=p>,</span> <span class=nx>edges</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>label</span> <span class=p>}</span>
</code></pre></div> <p>This will search for all paths from the source <code>circles/A</code> to the vertex <code>circles/G</code>. This is done with first the PRUNE which makes sure we stop search as soon as we have found <code>G</code> and we will not go beyond <code>G</code> and via a loop return to it.</p> <p>With the second filter, we remove all paths that do not end in <code>G</code> namely all shorter ones that have not been cut out by prune. Hence the list of all paths from <code>A</code> to <code>G</code> are returned.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>You can also prune as soon as you reach a certain collection with the following example: <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..5</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>PRUNE</span> <span class=nx>IS_SAME_COLLECTION</span><span class=p>(</span><span class=s1>&#39;circles&#39;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span>
        <span class=nx>RETURN</span> <span class=p>{</span> <span class=nx>vertices</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>_key</span><span class=p>,</span> <span class=nx>edges</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>label</span> <span class=p>}</span>
</code></pre></div></p> </div> <h3 id=filtering-on-paths_1>Filtering on paths<a class=headerlink href=#filtering-on-paths_1 title="Permanent link">&para;</a></h3> <p>Filtering on paths allows for the second most powerful filtering and may have the second highest impact on performance. Using the path variable you can filter on specific iteration depths. You can filter for absolute positions in the path by specifying a positive number (which then qualifies for the optimizations), or relative positions to the end of the path by specifying a negative number.</p> <h4 id=filtering-edges-on-the-path>Filtering edges on the path<a class=headerlink href=#filtering-edges-on-the-path title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..5</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=mf>0</span><span class=p>].</span><span class=nx>theTruth</span> <span class=o>==</span> <span class=kc>true</span>
        <span class=nx>RETURN</span> <span class=p>{</span> <span class=nx>vertices</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>_key</span><span class=p>,</span> <span class=nx>edges</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>label</span> <span class=p>}</span>
</code></pre></div> <p>will filter all paths where the start edge (index 0) has the attribute <em>theTruth</em> equal to <em>true</em>. The resulting paths will be up to 5 items long.</p> <h3 id=filtering-vertices-on-the-path>Filtering vertices on the path<a class=headerlink href=#filtering-vertices-on-the-path title="Permanent link">&para;</a></h3> <p>Similar to filtering the edges on the path you can also filter the vertices:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..5</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=mf>1</span><span class=p>].</span><span class=nx>_key</span> <span class=o>==</span> <span class=s2>&quot;G&quot;</span>
        <span class=nx>RETURN</span> <span class=p>{</span> <span class=nx>vertices</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>_key</span><span class=p>,</span> <span class=nx>edges</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>label</span> <span class=p>}</span>
</code></pre></div> <h4 id=combining-several-filters>Combining several filters<a class=headerlink href=#combining-several-filters title="Permanent link">&para;</a></h4> <p>And of course you can combine these filters in any way you like:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..5</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=mf>0</span><span class=p>].</span><span class=nx>theTruth</span> <span class=o>==</span> <span class=kc>true</span>
           <span class=nx>AND</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=mf>1</span><span class=p>].</span><span class=nx>theFalse</span> <span class=o>==</span> <span class=kc>false</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=mf>1</span><span class=p>].</span><span class=nx>_key</span> <span class=o>==</span> <span class=s2>&quot;G&quot;</span>
        <span class=nx>RETURN</span> <span class=p>{</span> <span class=nx>vertices</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>_key</span><span class=p>,</span> <span class=nx>edges</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>label</span> <span class=p>}</span>
</code></pre></div> <p>The query will filter all paths where the first edge has the attribute <em>theTruth</em> equal to <em>true</em>, the first vertex is "G" and the second edge has the attribute <em>theFalse</em> equal to <em>false</em>. The resulting paths will be up to 5 items long.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Although we have defined a <em>min</em> of 1, we will only get results of depth 2. This is because for all results in depth 1 the second edge does not exist and hence cannot fulfill the condition here.</p> </div> <h4 id=filter-on-the-entire-path>Filter on the entire path<a class=headerlink href=#filter-on-the-entire-path title="Permanent link">&para;</a></h4> <p>With the help of array comparison operators filters can also be defined on the entire path, like ALL edges should have theTruth == true:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..5</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>theTruth</span> <span class=nx>ALL</span> <span class=o>==</span> <span class=kc>true</span>
        <span class=nx>RETURN</span> <span class=p>{</span> <span class=nx>vertices</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>_key</span><span class=p>,</span> <span class=nx>edges</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>label</span> <span class=p>}</span>
</code></pre></div> <p>Or NONE of the edges should have theTruth == true:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..5</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>theTruth</span> <span class=nx>NONE</span> <span class=o>==</span> <span class=kc>true</span>
        <span class=nx>RETURN</span> <span class=p>{</span> <span class=nx>vertices</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>_key</span><span class=p>,</span> <span class=nx>edges</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>label</span> <span class=p>}</span>
</code></pre></div> <p>Both examples above are recognized by the optimizer and can potentially use other indexes than the edge index.</p> <p>It is also possible to define that at least one edge on the path has to fulfill the condition:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..5</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>theTruth</span> <span class=nx>ANY</span> <span class=o>==</span> <span class=kc>true</span>
        <span class=nx>RETURN</span> <span class=p>{</span> <span class=nx>vertices</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>_key</span><span class=p>,</span> <span class=nx>edges</span><span class=o>:</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=o>*</span><span class=p>].</span><span class=nx>label</span> <span class=p>}</span>
</code></pre></div> <p>It is guaranteed that at least one, but potentially more edges fulfill the condition. All of the above filters can be defined on vertices in the exact same way.</p> <h3 id=filtering-on-the-path-vs-filtering-on-vertices-or-edges>Filtering on the path vs. Filtering on Vertices or Edges<a class=headerlink href=#filtering-on-the-path-vs-filtering-on-vertices-or-edges title="Permanent link">&para;</a></h3> <p>Filtering on the path influences the Iteration on your graph. If certain conditions aren't met, the traversal may stop continuing along this path.</p> <p>In contrast filters on vertex or edge only express whether you're interested in the actual value of these documents. Thus, it influences the list of returned documents (if you return v or e) similar as specifying a non-null <code>min</code> value. If you specify a min value of 2, the traversal over the first two nodes of these paths has to be executed - you just won't see them in your result array. </p> <p>Similar are filters on vertices or edges - the traverser has to walk along these nodes, since you may be interested in documents further down the path.</p> <h3 id=examples>Examples<a class=headerlink href=#examples title="Permanent link">&para;</a></h3> <p>We will create a simple symmetric traversal demonstration graph:</p> <p><img alt="traversal graph" src=../../images/traversal_graph.png></p> <p>To get started we select the full graph. For better overview we only return the vertex IDs:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
      <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>edges</span> <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <p>Results:</p> <div class=highlight><pre><span></span><code>  <span class=p>[</span>
    <span class=s2>&quot;B&quot;</span><span class=p>,</span>
    <span class=s2>&quot;C&quot;</span><span class=p>,</span>
    <span class=s2>&quot;D&quot;</span><span class=p>,</span>
    <span class=s2>&quot;E&quot;</span><span class=p>,</span>
    <span class=s2>&quot;F&quot;</span><span class=p>,</span>
    <span class=s2>&quot;G&quot;</span><span class=p>,</span>
    <span class=s2>&quot;H&quot;</span><span class=p>,</span>
    <span class=s2>&quot;I&quot;</span><span class=p>,</span>
    <span class=s2>&quot;J&quot;</span><span class=p>,</span>
    <span class=s2>&quot;K&quot;</span>
  <span class=p>]</span>
</code></pre></div> <p>We can nicely see that it is heading for the first outer vertex, then goes back to the branch to descend into the next tree. After that it returns to our start node, to descend again. As we can see both queries return the same result, the first one uses the named graph, the second uses the edge collections directly.</p> <p>Now we only want the elements of a specific depth (min = max = 2), the ones that are right behind the fork:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span> <span class=nx>IN</span> <span class=mf>2..2</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
      <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span> <span class=nx>IN</span> <span class=mf>2</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
      <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <p>Results:</p> <div class=highlight><pre><span></span><code>  <span class=p>[</span>
    <span class=s2>&quot;C&quot;</span><span class=p>,</span>
    <span class=s2>&quot;E&quot;</span><span class=p>,</span>
    <span class=s2>&quot;H&quot;</span><span class=p>,</span>
    <span class=s2>&quot;J&quot;</span>
  <span class=p>]</span>
</code></pre></div> <p>As you can see, we can express this in two ways: with or without <em>max</em> parameter in the expression.</p> <h3 id=filter-examples>Filter examples<a class=headerlink href=#filter-examples title="Permanent link">&para;</a></h3> <p>Now let's start to add some filters. We want to cut of the branch on the right side of the graph, we may filter in two ways:</p> <ul> <li>we know the vertex at depth 1 has <code>_key</code> == <code>G</code></li> <li>we know the <code>label</code> attribute of the edge connecting <strong>A</strong> to <strong>G</strong> is <code>right_foo</code></li> </ul> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=mf>1</span><span class=p>].</span><span class=nx>_key</span> <span class=o>!=</span> <span class=s1>&#39;G&#39;</span>
        <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span> <span class=nx>e</span><span class=p>,</span> <span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=mf>0</span><span class=p>].</span><span class=nx>label</span> <span class=o>!=</span> <span class=s1>&#39;right_foo&#39;</span>
        <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <p>Results:</p> <div class=highlight><pre><span></span><code>  <span class=p>[</span>
    <span class=s2>&quot;B&quot;</span><span class=p>,</span>
    <span class=s2>&quot;C&quot;</span><span class=p>,</span>
    <span class=s2>&quot;D&quot;</span><span class=p>,</span>
    <span class=s2>&quot;E&quot;</span><span class=p>,</span>
    <span class=s2>&quot;F&quot;</span>
  <span class=p>]</span>
</code></pre></div> <p>As we can see all vertices behind <strong>G</strong> are skipped in both queries. The first filters on the vertex <code>_key</code>, the second on an edge label.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>As soon as a filter is not fulfilled for any of the three elements <code>v</code>, <code>e</code> or <code>p</code>, the complete set of these will be excluded from the result.</p> </div> <p>We also may combine several filters, for instance to filter out the right branch (<strong>G</strong>), and the <strong>E</strong> branch:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span><span class=nx>e</span><span class=p>,</span><span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=mf>1</span><span class=p>].</span><span class=nx>_key</span> <span class=o>!=</span> <span class=s1>&#39;G&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=mf>1</span><span class=p>].</span><span class=nx>label</span> <span class=o>!=</span> <span class=s1>&#39;left_blub&#39;</span>
        <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span><span class=nx>e</span><span class=p>,</span><span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>vertices</span><span class=p>[</span><span class=mf>1</span><span class=p>].</span><span class=nx>_key</span> <span class=o>!=</span> <span class=s1>&#39;G&#39;</span> <span class=nx>AND</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=mf>1</span><span class=p>].</span><span class=nx>label</span> <span class=o>!=</span> <span class=s1>&#39;left_blub&#39;</span>
        <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <p>Results:</p> <div class=highlight><pre><span></span><code>  <span class=p>[</span>
    <span class=s2>&quot;B&quot;</span><span class=p>,</span>
    <span class=s2>&quot;C&quot;</span><span class=p>,</span>
    <span class=s2>&quot;D&quot;</span><span class=p>,</span>
  <span class=p>]</span>
</code></pre></div> <p>As you can see, combining two <code>FILTER</code> statements with an <code>AND</code> has the same result.</p> <h2 id=comparing-outbound-inbound-any>Comparing OUTBOUND / INBOUND / ANY<a class=headerlink href=#comparing-outbound-inbound-any title="Permanent link">&para;</a></h2> <p>All our previous examples traversed the graph in <code>OUTBOUND</code> edge direction. You may however want to also traverse in reverse direction (<code>INBOUND</code>) or both (<code>ANY</code>). Since <code>circles/A</code> only has outbound edges, we start our queries from <code>circles/E</code>:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/E&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <div class=highlight><pre><span></span><code>  <span class=p>[</span>
    <span class=s2>&quot;F&quot;</span>
  <span class=p>]</span>
</code></pre></div> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>INBOUND</span> <span class=s1>&#39;circles/E&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <div class=highlight><pre><span></span><code>  <span class=p>[</span>
    <span class=s2>&quot;B&quot;</span><span class=p>,</span>
    <span class=s2>&quot;A&quot;</span>
  <span class=p>]</span>
</code></pre></div> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>ANY</span> <span class=s1>&#39;circles/E&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <div class=highlight><pre><span></span><code>  <span class=p>[</span>
    <span class=s2>&quot;F&quot;</span><span class=p>,</span>
    <span class=s2>&quot;B&quot;</span><span class=p>,</span>
    <span class=s2>&quot;C&quot;</span><span class=p>,</span>
    <span class=s2>&quot;D&quot;</span><span class=p>,</span>
    <span class=s2>&quot;A&quot;</span><span class=p>,</span>
    <span class=s2>&quot;G&quot;</span>
  <span class=p>]</span>
</code></pre></div> <p>The first traversal will only walk in the forward (<code>OUTBOUND</code>) direction. Therefore from <strong>E</strong> we only can see <strong>F</strong>. Walking in reverse direction (<code>INBOUND</code>), we see the path to <strong>A</strong>: <strong>B</strong>  <strong>A</strong>.</p> <p>Walking in forward and reverse direction (<code>ANY</code>) we can see a more diverse result. First of all, we see the simple paths to <strong>F</strong> and <strong>A</strong>. However, these vertices have edges in other directions and they will be traversed.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The traverser may use identical edges multiple times. For instance, if it walks from <strong>E</strong> to <strong>F</strong>, it will continue to walk from <strong>F</strong> to <strong>E</strong> using the same edge once again. Due to this we will see duplicate nodes in the result.</p> </div> <p>Please note that the direction can't be passed in by a bind parameter.</p> <h2 id=query-explainer-for-optimizations>Query explainer for optimizations<a class=headerlink href=#query-explainer-for-optimizations title="Permanent link">&para;</a></h2> <p>Let's have a look what the optimizer does behind the curtain and inspect traversal queries using <a href=execution-and-performance-optimizer.html>the explainer</a>:</p> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span><span class=nx>e</span><span class=p>,</span><span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>LET</span> <span class=nx>localScopeVar</span> <span class=o>=</span> <span class=nx>RAND</span><span class=p>()</span> <span class=o>&gt;</span> <span class=mf>0.5</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=mf>0</span><span class=p>].</span><span class=nx>theTruth</span> <span class=o>!=</span> <span class=nx>localScopeVar</span>
        <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <div class=highlight><pre><span></span><code>Query String <span class=o>(</span><span class=m>173</span> chars, cacheable: <span class=nb>false</span><span class=o>)</span>:
   FOR v,e,p IN <span class=m>1</span>..3 OUTBOUND <span class=s1>&#39;circles/A&#39;</span> GRAPH <span class=s1>&#39;traversalGraph&#39;</span>
       LET <span class=nv>localScopeVar</span> <span class=o>=</span> RAND<span class=o>()</span> &gt; <span class=m>0</span>.5
       FILTER p.edges<span class=o>[</span><span class=m>0</span><span class=o>]</span>.theTruth !<span class=o>=</span> localScopeVar
       RETURN v._key

Execution plan:
 Id   NodeType          Est.   Comment
  <span class=m>1</span>   SingletonNode        <span class=m>1</span>   * ROOT
  <span class=m>2</span>   TraversalNode        <span class=m>1</span>     - FOR v  /* vertex */, p  /* paths */ IN <span class=m>1</span>..3  /* min..maxPathDepth */ OUTBOUND <span class=s1>&#39;circles/A&#39;</span> /* startnode */  GRAPH <span class=s1>&#39;traversalGraph&#39;</span>
  <span class=m>3</span>   CalculationNode      <span class=m>1</span>       - LET <span class=nv>localScopeVar</span> <span class=o>=</span> <span class=o>(</span>RAND<span class=o>()</span> &gt; <span class=m>0</span>.5<span class=o>)</span>   /* simple expression */
  <span class=m>4</span>   CalculationNode      <span class=m>1</span>       - LET <span class=c1>#6 = (p.`edges`[0].`theTruth` != localScopeVar)   /* simple expression */</span>
  <span class=m>5</span>   FilterNode           <span class=m>1</span>       - FILTER <span class=c1>#6</span>
  <span class=m>6</span>   CalculationNode      <span class=m>1</span>       - LET <span class=c1>#8 = v.`_key`   /* attribute expression */</span>
  <span class=m>7</span>   ReturnNode           <span class=m>1</span>       - RETURN <span class=c1>#8</span>

Indexes used:
 By   Name   Type   Collection   Unique   Sparse   Selectivity   Fields        Ranges
  <span class=m>2</span>   edge   edge   edges        <span class=nb>false</span>    <span class=nb>false</span>       <span class=m>100</span>.00 %   <span class=o>[</span> <span class=sb>`</span>_from<span class=sb>`</span> <span class=o>]</span>   base OUTBOUND

Functions used:
 Name   Deterministic   Cacheable   Uses V8
 RAND   <span class=nb>false</span>           <span class=nb>false</span>       <span class=nb>false</span>  

Traversals on graphs:
 Id  Depth  Vertex collections  Edge collections  Options                                  Filter / Prune Conditions
 <span class=m>2</span>   <span class=m>1</span>..3   circles             edges             uniqueVertices: none, uniqueEdges: path                           

Optimization rules applied:
 Id   RuleName
  <span class=m>1</span>   move-calculations-up
  <span class=m>2</span>   optimize-traversals
  <span class=m>3</span>   move-calculations-down
</code></pre></div> <div class=highlight><pre><span></span><code>    <span class=nx>FOR</span> <span class=nx>v</span><span class=p>,</span><span class=nx>e</span><span class=p>,</span><span class=nx>p</span> <span class=nx>IN</span> <span class=mf>1..3</span> <span class=nx>OUTBOUND</span> <span class=s1>&#39;circles/A&#39;</span> <span class=nx>GRAPH</span> <span class=s1>&#39;traversalGraph&#39;</span>
        <span class=nx>FILTER</span> <span class=nx>p</span><span class=p>.</span><span class=nx>edges</span><span class=p>[</span><span class=mf>0</span><span class=p>].</span><span class=nx>label</span> <span class=o>==</span> <span class=s1>&#39;right_foo&#39;</span>
        <span class=nx>RETURN</span> <span class=nx>v</span><span class=p>.</span><span class=nx>_key</span>
</code></pre></div> <div class=highlight><pre><span></span><code>Query String <span class=o>(</span><span class=m>129</span> chars, cacheable: <span class=nb>true</span><span class=o>)</span>:
   FOR v,e,p IN <span class=m>1</span>..3 OUTBOUND <span class=s1>&#39;circles/A&#39;</span> GRAPH <span class=s1>&#39;traversalGraph&#39;</span>
       FILTER p.edges<span class=o>[</span><span class=m>0</span><span class=o>]</span>.label <span class=o>==</span> <span class=s1>&#39;right_foo&#39;</span>
       RETURN v._key


Execution plan:
 Id   NodeType          Est.   Comment
  <span class=m>1</span>   SingletonNode        <span class=m>1</span>   * ROOT
  <span class=m>2</span>   TraversalNode        <span class=m>1</span>     - FOR v  /* vertex */ IN <span class=m>1</span>..3  /* min..maxPathDepth */ OUTBOUND <span class=s1>&#39;circles/A&#39;</span> /* startnode */  GRAPH <span class=s1>&#39;traversalGraph&#39;</span>
  <span class=m>5</span>   CalculationNode      <span class=m>1</span>       - LET <span class=c1>#7 = v.`_key`   /* attribute expression */</span>
  <span class=m>6</span>   ReturnNode           <span class=m>1</span>       - RETURN <span class=c1>#7</span>

Indexes used:
 By   Name   Type   Collection   Unique   Sparse   Selectivity   Fields        Ranges
  <span class=m>2</span>   edge   edge   edges        <span class=nb>false</span>    <span class=nb>false</span>       <span class=m>100</span>.00 %   <span class=o>[</span> <span class=sb>`</span>_from<span class=sb>`</span> <span class=o>]</span>   base OUTBOUND
  <span class=m>2</span>   edge   edge   edges        <span class=nb>false</span>    <span class=nb>false</span>       <span class=m>100</span>.00 %   <span class=o>[</span> <span class=sb>`</span>_from<span class=sb>`</span> <span class=o>]</span>   level <span class=m>0</span> OUTBOUND

Traversals on graphs:
 Id  Depth  Vertex collections  Edge collections  Options                                  Filter / Prune Conditions                   
 <span class=m>2</span>   <span class=m>1</span>..3   circles             edges             uniqueVertices: none, uniqueEdges: path  FILTER <span class=o>(</span>p.<span class=sb>`</span>edges<span class=sb>`</span><span class=o>[</span><span class=m>0</span><span class=o>]</span>.<span class=sb>`</span>label<span class=sb>`</span> <span class=o>==</span> <span class=s2>&quot;right_foo&quot;</span><span class=o>)</span>

Optimization rules applied:
 Id   RuleName
  <span class=m>1</span>   move-calculations-up
  <span class=m>2</span>   move-filters-up
  <span class=m>3</span>   move-calculations-up-2
  <span class=m>4</span>   move-filters-up-2
  <span class=m>5</span>   optimize-traversals
  <span class=m>6</span>   remove-filter-covered-by-traversal
  <span class=m>7</span>   remove-unnecessary-calculations-2
  <span class=m>8</span>   remove-redundant-path-var
</code></pre></div> <p>We now see two queries: In one we add a variable <em>localScopeVar</em>, which is outside the scope of the traversal itself - it is not known inside of the traverser.</p> <p>Therefore, this filter can only be executed after the traversal, which may be undesired in large graphs. The second query on the other hand only operates on the path, and therefore this condition can be used during the execution of the traversal.</p> <p>Paths that are filtered out by this condition won't be processed at all.</p> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2016 - 2020 Macrometa Corp </div> </div> <div class=md-footer-social> <a href=https://github.com/macrometacorp target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/macrometa target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.linkedin.com/company/macrometa-corporation/ target=_blank rel=noopener title=www.linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.568ba93b.min.js></script> <script src=../../../assets/javascripts/bundle.2a81e305.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>